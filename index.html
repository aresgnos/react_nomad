<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
  <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel";>
    const root = document.getElementById("root");

    // 함수로 선언됐기 때문에 아래에서 여러번 사용 가능
    // function Title() {
    //   return (
    //     <h3 id="title" onMouseEnter={() => console.log("mouse enter")}>
    //       Hello
    //     </h3>
    //   );
    // }
    // const Button = () => (
    //   <button
    //     style={{ backgroundColor: "tomato" }}
    //     onClick={() => console.log("i'm clicked")}
    //   >
    //     Click me
    //   </button>
    // );

    // 카운터 초기화
    // let counter = 0;

    // function countUp() {
    //   counter = counter +1;
    //   // 사용자에게 바뀐 데이터를 보여주기 위해 리렌더링
    //   render();
    // }

    // const render = () => (
    //   // container 컴포넌트를 root에 담는다.
    //   ReactDOM.render(<Container />, root)
    // );

    // // 화면에 보여지는 부분
    // const Container = () => (
    //   <div>
    //    <h3>Total Clicks: {counter}</h3>
    //    <button onClick={countUp}>Click me</button>
    //   </div>
    // );
    // // 상단과 같음
    // // function Container() {
    // //   return (
    // //     <div>
    // //    <h3>Total Clicks: {counter}</h3>
    // //    <button onClick={countUp}>Click me</button>
    // //   </div>
    // //   );
    // // };

    // // 첫 렌더링
    // render();

    function App() {
      // state가 바뀌면 리렌더링이 일어남
      const [counter, setCounter] = React.useState(0);
      const onClick = () => {
        // 새로운 값을 가지고 자동으로 리렌더링(컴포넌트가 재생성)
        // setCounter(counter + 1)

        // state를 설정하는 방법
        // 1. setCounter에 data를 직접 넣어준다
        // setCounter(222);

        // 2. 이전 값을 바탕으로 현재 값을 설정(함수 이용)
        setCounter((current) => current + 1);
        // 여기서 반환하는 값이 새로운 state가 됨.
        // setCounter(couter + 1)과 같지만 더 안전함.
      };
      console.log("rendered");
      console.log(counter);

      // 화면에 보이는 부분
      return (
        <div>
          <h3>Total clicks: {counter}</h3>
          <button onClick={onClick}>Click me</button>
        </div>
      )
    }

    ReactDOM.render(<App />, root);
  </script>
</html>
